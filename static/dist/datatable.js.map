{
  "version": 3,
  "sources": ["../js/datatable/src/index.ts", "../js/datatable/src/utils/event-emitter.ts", "../js/datatable/src/utils/state-manager.ts", "../js/datatable/src/utils/filter-engine.ts", "../js/datatable/src/utils/sort-engine.ts", "../js/datatable/src/core.ts", "../js/datatable/src/plugins/export.ts", "../js/datatable/src/plugins/virtual-scroll.ts"],
  "sourcesContent": ["/**\n * Awo DataTable\n * Headless DataTable for any design system\n * \n * @package @awo/datatable\n * @author Awo ERP\n * @version 2.0.0\n * @license MIT\n */\n\n// Core exports\nexport { DataTable, createDataTable } from './core';\n\n// Type exports\nexport type {\n  // Core types\n  RowId,\n  CellValue,\n  RowData,\n  Row,\n  Column,\n  \n  // Sorting\n  SortDirection,\n  SortState,\n  MultiSortState,\n  \n  // Filtering\n  FilterOperator,\n  Filter,\n  FilterState,\n  FilterFunction,\n  \n  // Pagination\n  PaginationState,\n  PaginationOptions,\n  \n  // Selection\n  SelectionState,\n  SelectionOptions,\n  \n  // Server-side\n  DataMode,\n  ServerSideOptions,\n  LoadState,\n  \n  // Events\n  DataTableEvents,\n  EventCallback,\n  \n  // State\n  DataTableState,\n  DataTableOptions,\n  \n  // Plugin\n  Plugin,\n  \n  // Export\n  ExportFormat,\n  ExportOptions,\n  \n  // Public API\n  DataTableCore,\n} from './types';\n\n// Plugin exports\nexport { ExportPlugin, createExportPlugin } from './plugins/export';\nexport {\n  VirtualScrollPlugin,\n  createVirtualScrollPlugin,\n  measureRowHeight,\n  calculateOptimalOverscan,\n} from './plugins/virtual-scroll';\nexport type { VirtualScrollOptions, VirtualScrollState } from './plugins/virtual-scroll';\n\n// Utility exports\nexport { EventEmitter } from './utils/event-emitter';\nexport { StateManager } from './utils/state-manager';\nexport { FilterEngine, debounce } from './utils/filter-engine';\nexport { SortEngine } from './utils/sort-engine';\n\n/**\n * Version\n */\nexport const VERSION = '2.0.0';\n\n// Re-import for default export\nimport { DataTable, createDataTable } from './core';\n\n/**\n * Default export\n */\nexport default {\n  DataTable,\n  createDataTable,\n  VERSION,\n};\n", "/**\n * Event Emitter\n * Simple pub/sub implementation for DataTable events\n */\n\nexport type EventCallback<T = any> = (data: T) => void;\n\nexport class EventEmitter<Events extends Record<string, (...args: any[]) => void>> {\n  private events: Map<keyof Events, Set<EventCallback>> = new Map();\n\n  on<K extends keyof Events>(event: K, callback: EventCallback<Parameters<Events[K]>[0]>): () => void {\n    if (!this.events.has(event)) {\n      this.events.set(event, new Set());\n    }\n\n    this.events.get(event)!.add(callback);\n\n    // Return unsubscribe function\n    return () => this.off(event, callback);\n  }\n\n  off<K extends keyof Events>(event: K, callback: EventCallback<Parameters<Events[K]>[0]>): void {\n    const callbacks = this.events.get(event);\n    if (callbacks) {\n      callbacks.delete(callback);\n    }\n  }\n\n  emit<K extends keyof Events>(event: K, data?: any): void {\n    const callbacks = this.events.get(event);\n    if (callbacks) {\n      callbacks.forEach((callback) => {\n        try {\n          callback(data);\n        } catch (error) {\n          console.error(`EventEmitter: Error in ${String(event)} handler:`, error);\n        }\n      });\n    }\n  }\n\n  clear(): void {\n    this.events.clear();\n  }\n\n  removeAllListeners(event?: keyof Events): void {\n    if (event) {\n      this.events.delete(event);\n    } else {\n      this.events.clear();\n    }\n  }\n}\n", "/**\n * State Manager\n * Handles state persistence to localStorage\n */\n\nexport class StateManager<T = any> {\n  private storage: Storage | null = null;\n\n  constructor() {\n    // Check if localStorage is available\n    try {\n      if (typeof window !== 'undefined' && window.localStorage) {\n        this.storage = window.localStorage;\n      }\n    } catch (e) {\n      console.warn('StateManager: localStorage is not available');\n    }\n  }\n\n  save(key: string, state: T): void {\n    if (!this.storage) return;\n\n    try {\n      const serialized = JSON.stringify(state, this.replacer);\n      this.storage.setItem(key, serialized);\n    } catch (error) {\n      console.error('StateManager: Error saving state:', error);\n    }\n  }\n\n  load<U = T>(key: string): U | null {\n    if (!this.storage) return null;\n\n    try {\n      const serialized = this.storage.getItem(key);\n      if (!serialized) return null;\n\n      return JSON.parse(serialized, this.reviver) as U;\n    } catch (error) {\n      console.error('StateManager: Error loading state:', error);\n      return null;\n    }\n  }\n\n  remove(key: string): void {\n    if (!this.storage) return;\n\n    try {\n      this.storage.removeItem(key);\n    } catch (error) {\n      console.error('StateManager: Error removing state:', error);\n    }\n  }\n\n  clear(): void {\n    if (!this.storage) return;\n\n    try {\n      this.storage.clear();\n    } catch (error) {\n      console.error('StateManager: Error clearing state:', error);\n    }\n  }\n\n  // Custom replacer to handle Sets, Maps, etc.\n  private replacer(_key: string, value: any): any {\n    if (value instanceof Set) {\n      return {\n        __type: 'Set',\n        __value: Array.from(value),\n      };\n    }\n    if (value instanceof Map) {\n      return {\n        __type: 'Map',\n        __value: Array.from(value.entries()),\n      };\n    }\n    if (value instanceof Date) {\n      return {\n        __type: 'Date',\n        __value: value.toISOString(),\n      };\n    }\n    return value;\n  }\n\n  // Custom reviver to restore Sets, Maps, etc.\n  private reviver(_key: string, value: any): any {\n    if (value && typeof value === 'object' && value.__type) {\n      switch (value.__type) {\n        case 'Set':\n          return new Set(value.__value);\n        case 'Map':\n          return new Map(value.__value);\n        case 'Date':\n          return new Date(value.__value);\n        default:\n          return value;\n      }\n    }\n    return value;\n  }\n}\n", "/**\n * Filter Engine\n * Handles all filtering operations for DataTable\n */\n\nimport type {\n  Row,\n  RowData,\n  Column,\n  Filter,\n  FilterState,\n  FilterOperator,\n  CellValue,\n  DataTableOptions,\n} from '../types';\n\nexport class FilterEngine<T extends RowData = RowData> {\n  private options: Pick<Required<DataTableOptions<T>>, 'filtering'>;\n\n  constructor(options: Pick<Required<DataTableOptions<T>>, 'filtering'>) {\n    this.options = options;\n  }\n\n  /**\n   * Apply all filters to rows\n   */\n  filter(rows: Row<T>[], filterState: FilterState, columns: Column<T>[]): Row<T>[] {\n    let filteredRows = rows;\n\n    // Apply column filters\n    if (filterState.filters.length > 0) {\n      filteredRows = this.applyColumnFilters(filteredRows, filterState.filters, columns);\n    }\n\n    // Apply global search\n    if (filterState.globalSearch && filterState.globalSearch.trim()) {\n      filteredRows = this.applyGlobalSearch(filteredRows, filterState.globalSearch, columns);\n    }\n\n    return filteredRows;\n  }\n\n  /**\n   * Apply individual column filters\n   */\n  private applyColumnFilters(rows: Row<T>[], filters: Filter[], columns: Column<T>[]): Row<T>[] {\n    return rows.filter((row) => {\n      return filters.every((filter) => this.evaluateFilter(row, filter, columns));\n    });\n  }\n\n  /**\n   * Apply global search across all searchable columns\n   */\n  private applyGlobalSearch(rows: Row<T>[], query: string, columns: Column<T>[]): Row<T>[] {\n    const searchableColumns = columns.filter((col) => col.filterable !== false);\n    \n    // If no searchable columns, return all rows (no filtering applied)\n    if (searchableColumns.length === 0) {\n      return rows;\n    }\n    \n    const normalizedQuery = this.options.filtering.caseSensitive\n      ? query\n      : query.toLowerCase();\n\n    return rows.filter((row) => {\n      return searchableColumns.some((column) => {\n        const value = this.getCellValue(row, column);\n        const normalizedValue = this.normalizeValue(value);\n\n        return normalizedValue.includes(normalizedQuery);\n      });\n    });\n  }\n\n  /**\n   * Evaluate a single filter against a row\n   */\n  private evaluateFilter(row: Row<T>, filter: Filter, columns: Column<T>[]): boolean {\n    // Check for custom filter function\n    if (this.options.filtering.customFilters?.[filter.columnId]) {\n      return this.options.filtering.customFilters[filter.columnId]!(row, filter);\n    }\n\n    const column = columns.find((col) => col.id === filter.columnId);\n    if (!column) return true;\n\n    const cellValue = this.getCellValue(row, column);\n\n    return this.applyOperator(cellValue, filter.operator, filter.value);\n  }\n\n  /**\n   * Apply filter operator\n   */\n  private applyOperator(\n    cellValue: CellValue,\n    operator: FilterOperator,\n    filterValue: CellValue | CellValue[]\n  ): boolean {\n    const normalizedCellValue = this.normalizeValue(cellValue);\n    const normalizedFilterValue = Array.isArray(filterValue)\n      ? filterValue.map((v) => this.normalizeValue(v))\n      : this.normalizeValue(filterValue);\n\n    switch (operator) {\n      case 'equals':\n        return normalizedCellValue === normalizedFilterValue;\n\n      case 'notEquals':\n        return normalizedCellValue !== normalizedFilterValue;\n\n      case 'contains':\n        return normalizedCellValue.includes(normalizedFilterValue as string);\n\n      case 'notContains':\n        return !normalizedCellValue.includes(normalizedFilterValue as string);\n\n      case 'startsWith':\n        return normalizedCellValue.startsWith(normalizedFilterValue as string);\n\n      case 'endsWith':\n        return normalizedCellValue.endsWith(normalizedFilterValue as string);\n\n      case 'isEmpty':\n        return cellValue === null || cellValue === undefined || cellValue === '';\n\n      case 'isNotEmpty':\n        return cellValue !== null && cellValue !== undefined && cellValue !== '';\n\n      case 'greaterThan':\n        return this.compareNumeric(cellValue, filterValue as CellValue) > 0;\n\n      case 'greaterThanOrEqual':\n        return this.compareNumeric(cellValue, filterValue as CellValue) >= 0;\n\n      case 'lessThan':\n        return this.compareNumeric(cellValue, filterValue as CellValue) < 0;\n\n      case 'lessThanOrEqual':\n        return this.compareNumeric(cellValue, filterValue as CellValue) <= 0;\n\n      case 'between':\n        if (!Array.isArray(filterValue) || filterValue.length !== 2) return false;\n        const num = this.toNumber(cellValue);\n        const min = this.toNumber(filterValue[0]);\n        const max = this.toNumber(filterValue[1]);\n        return num >= min && num <= max;\n\n      case 'in':\n        if (!Array.isArray(filterValue)) return false;\n        return (normalizedFilterValue as string[]).includes(normalizedCellValue);\n\n      case 'notIn':\n        if (!Array.isArray(filterValue)) return false;\n        return !(normalizedFilterValue as string[]).includes(normalizedCellValue);\n\n      default:\n        console.warn(`FilterEngine: Unknown operator ${operator}`);\n        return true;\n    }\n  }\n\n  /**\n   * Get cell value from row using column definition\n   */\n  private getCellValue(row: Row<T>, column: Column<T>): CellValue {\n    // Use custom accessor if provided\n    if (column.accessor) {\n      return column.accessor(row.data);\n    }\n\n    // Use field\n    return row.data[column.field as keyof T] as CellValue;\n  }\n\n  /**\n   * Normalize value for comparison\n   */\n  private normalizeValue(value: CellValue): string {\n    if (value === null || value === undefined) {\n      return '';\n    }\n\n    const stringValue = String(value);\n    return this.options.filtering.caseSensitive\n      ? stringValue\n      : stringValue.toLowerCase();\n  }\n\n  /**\n   * Convert value to number for numeric comparisons\n   */\n  private toNumber(value: CellValue): number {\n    if (typeof value === 'number') return value;\n    if (typeof value === 'string') {\n      const num = parseFloat(value);\n      return isNaN(num) ? 0 : num;\n    }\n    return 0;\n  }\n\n  /**\n   * Compare numeric values\n   */\n  private compareNumeric(a: CellValue, b: CellValue): number {\n    return this.toNumber(a) - this.toNumber(b);\n  }\n}\n\n/**\n * Debounce utility for search\n */\nexport function debounce<T extends (...args: any[]) => any>(\n  func: T,\n  wait: number\n): (...args: Parameters<T>) => void {\n  let timeout: ReturnType<typeof setTimeout> | null = null;\n\n  return function (...args: Parameters<T>) {\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n\n    timeout = setTimeout(() => {\n      func(...args);\n    }, wait);\n  };\n}\n", "/**\n * Sort Engine\n * Handles all sorting operations for DataTable\n */\n\nimport type {\n  Row,\n  RowData,\n  Column,\n  SortState,\n  MultiSortState,\n  CellValue,\n  DataTableOptions,\n} from '../types';\n\nexport class SortEngine<T extends RowData = RowData> {\n  private options: Pick<Required<DataTableOptions<T>>, 'sorting' | 'customComparators'>;\n\n  constructor(options: Pick<Required<DataTableOptions<T>>, 'sorting' | 'customComparators'>) {\n    this.options = options;\n  }\n\n  /**\n   * Sort rows based on sort state\n   */\n  sort(\n    rows: Row<T>[],\n    sortState: SortState | MultiSortState,\n    columns: Column<T>[]\n  ): Row<T>[] {\n    // Don't mutate original array\n    const sortedRows = [...rows];\n\n    if ('sorts' in sortState) {\n      // Multi-sort\n      return this.multiSort(sortedRows, sortState.sorts, columns);\n    } else {\n      // Single sort\n      return this.singleSort(sortedRows, sortState, columns);\n    }\n  }\n\n  /**\n   * Single column sort\n   */\n  private singleSort(rows: Row<T>[], sortState: SortState, columns: Column<T>[]): Row<T>[] {\n    const column = columns.find((col) => col.id === sortState.columnId);\n    if (!column || !sortState.direction) return rows;\n\n    const comparator = this.getComparator(column);\n    const multiplier = sortState.direction === 'asc' ? 1 : -1;\n\n    return rows.sort((a, b) => {\n      const aValue = this.getCellValue(a, column);\n      const bValue = this.getCellValue(b, column);\n      return comparator(aValue, bValue) * multiplier;\n    });\n  }\n\n  /**\n   * Multi-column sort\n   */\n  private multiSort(rows: Row<T>[], sorts: SortState[], columns: Column<T>[]): Row<T>[] {\n    return rows.sort((a, b) => {\n      for (const sort of sorts) {\n        if (!sort.direction) continue;\n\n        const column = columns.find((col) => col.id === sort.columnId);\n        if (!column) continue;\n\n        const comparator = this.getComparator(column);\n        const multiplier = sort.direction === 'asc' ? 1 : -1;\n\n        const aValue = this.getCellValue(a, column);\n        const bValue = this.getCellValue(b, column);\n        const result = comparator(aValue, bValue) * multiplier;\n\n        // If not equal, return result; otherwise continue to next sort\n        if (result !== 0) return result;\n      }\n      return 0;\n    });\n  }\n\n  /**\n   * Get comparator function for column\n   */\n  private getComparator(column: Column<T>): (a: CellValue, b: CellValue) => number {\n    // Use custom comparator if provided\n    if (column.comparator) {\n      return column.comparator;\n    }\n\n    // Use global custom comparator if available\n    if (this.options.customComparators[column.id]) {\n      return this.options.customComparators[column.id]!;\n    }\n\n    // Default comparator\n    return this.defaultComparator;\n  }\n\n  /**\n   * Default comparison logic\n   */\n  private defaultComparator = (a: CellValue, b: CellValue): number => {\n    // Handle null/undefined\n    if (a === null || a === undefined) return b === null || b === undefined ? 0 : -1;\n    if (b === null || b === undefined) return 1;\n\n    // Handle numbers\n    if (typeof a === 'number' && typeof b === 'number') {\n      return a - b;\n    }\n\n    // Handle booleans\n    if (typeof a === 'boolean' && typeof b === 'boolean') {\n      return a === b ? 0 : a ? 1 : -1;\n    }\n\n    // Handle dates\n    if (this.isDate(a) && this.isDate(b)) {\n      return (a as Date).getTime() - (b as Date).getTime();\n    }\n\n    // Try to parse as numbers\n    const aNum = this.tryParseNumber(a);\n    const bNum = this.tryParseNumber(b);\n    if (aNum !== null && bNum !== null) {\n      return aNum - bNum;\n    }\n\n    // Try to parse as dates\n    const aDate = this.tryParseDate(a);\n    const bDate = this.tryParseDate(b);\n    if (this.isDate(aDate) && this.isDate(bDate)) {\n      return (aDate as Date).getTime() - (bDate as Date).getTime();\n    }\n\n    // Default: string comparison\n    return String(a).localeCompare(String(b), undefined, {\n      numeric: true,\n      sensitivity: 'base',\n    });\n  };\n\n  /**\n   * Get cell value from row using column definition\n   */\n  private getCellValue(row: Row<T>, column: Column<T>): CellValue {\n    // Use custom accessor if provided\n    if (column.accessor) {\n      return column.accessor(row.data);\n    }\n\n    // Use field\n    return row.data[column.field as keyof T] as CellValue;\n  }\n\n  /**\n   * Try to parse value as number\n   */\n  private tryParseNumber(value: CellValue): number | null {\n    if (typeof value === 'number') return value;\n    if (typeof value === 'string') {\n      // Don't parse date-like strings as numbers\n      if (/^\\d{4}-\\d{2}-\\d{2}/.test(value) || /^\\d{1,2}\\/\\d{1,2}\\/\\d{4}/.test(value) || /^\\d{1,2}-\\d{1,2}-\\d{4}/.test(value)) {\n        return null;\n      }\n      \n      // Remove common number formatting\n      const cleaned = value.replace(/[,$]/g, '');\n      const num = parseFloat(cleaned);\n      \n      // Only return if the entire string was consumed (i.e., it's actually a number)\n      if (isNaN(num) || cleaned !== String(num)) {\n        return null;\n      }\n      \n      return num;\n    }\n    return null;\n  }\n\n  /**\n   * Try to parse value as date\n   */\n  private tryParseDate(value: CellValue): Date | null {\n    if (this.isDate(value)) return value;\n    if (typeof value === 'string' || typeof value === 'number') {\n      // Handle common date formats more specifically\n      if (typeof value === 'string') {\n        // Check for ISO date format (YYYY-MM-DD, YYYY-MM-DDTHH:mm:ss, etc.)\n        if (/^\\d{4}-\\d{2}-\\d{2}/.test(value)) {\n          const date = new Date(value);\n          return isNaN(date.getTime()) ? null : date;\n        }\n        \n        // Check for other common formats\n        if (/^\\d{1,2}\\/\\d{1,2}\\/\\d{4}/.test(value) || /^\\d{1,2}-\\d{1,2}-\\d{4}/.test(value)) {\n          const date = new Date(value);\n          return isNaN(date.getTime()) ? null : date;\n        }\n      }\n      \n      const date = new Date(value);\n      return isNaN(date.getTime()) ? null : date;\n    }\n    return null;\n  }\n\n  /**\n   * Check if value is a Date\n   */\n  private isDate(value: unknown): value is Date {\n    return value instanceof Date;\n  }\n}\n", "/**\n * Awo DataTable - Core Implementation\n * Headless DataTable with complete state management\n * \n * @package @awo/datatable\n * @author Awo ERP\n * @version 2.0.0\n */\n\nimport type {\n  DataTableCore,\n  DataTableOptions,\n  DataTableState,\n  DataTableEvents,\n  Row,\n  RowData,\n  RowId,\n  Column,\n  SortState,\n  MultiSortState,\n  SortDirection,\n  Filter,\n  FilterState,\n  PaginationState,\n  SelectionState,\n  EventCallback,\n  Plugin,\n} from './types';\n\nimport { EventEmitter } from './utils/event-emitter';\nimport { StateManager } from './utils/state-manager';\nimport { FilterEngine } from './utils/filter-engine';\nimport { SortEngine } from './utils/sort-engine';\n\n/**\n * Main DataTable Class\n * Provides headless table logic without any UI assumptions\n */\nexport class DataTable<T extends RowData = RowData> implements DataTableCore<T> {\n  private options: Required<DataTableOptions<T>>;\n  private state: DataTableState<T>;\n  private eventEmitter: EventEmitter<Record<string, (...args: any[]) => void>>;\n  private stateManager: StateManager<DataTableState<T>>;\n  private filterEngine: FilterEngine<T>;\n  private sortEngine: SortEngine<T>;\n  private plugins: Map<string, Plugin<T>> = new Map();\n  private initialized = false;\n  private destroyed = false;\n\n  constructor(options: DataTableOptions<T>) {\n    this.options = this.normalizeOptions(options);\n    this.eventEmitter = new EventEmitter();\n    this.stateManager = new StateManager();\n    this.filterEngine = new FilterEngine(this.options);\n    this.sortEngine = new SortEngine(this.options);\n\n    // Initialize state\n    this.state = this.createInitialState();\n\n    // Setup\n    this.initialize();\n  }\n\n  // ============================================================================\n  // Initialization\n  // ============================================================================\n\n  private normalizeOptions(options: DataTableOptions<T>): Required<DataTableOptions<T>> {\n    return {\n      data: options.data || [],\n      columns: options.columns,\n      dataMode: options.dataMode || 'client',\n      serverSide: {\n        url: '',\n        method: 'GET',\n        headers: {},\n        params: {},\n        dataPath: 'data',\n        totalPath: 'total',\n        transformer: (response: any) => ({\n          data: response.data || response,\n          total: response.total || response.data?.length || 0,\n        }),\n        ...options.serverSide,\n      },\n      sorting: {\n        enabled: true,\n        multiSort: false,\n        defaultSort: undefined,\n        ...options.sorting,\n      },\n      filtering: {\n        enabled: true,\n        globalSearch: true,\n        debounceMs: 300,\n        caseSensitive: false,\n        customFilters: {},\n        ...options.filtering,\n      },\n      pagination: {\n        enabled: true,\n        pageSize: 10,\n        pageSizeOptions: [5, 10, 25, 50, 100],\n        showFirstLast: true,\n        ...options.pagination,\n      },\n      selection: {\n        enabled: false,\n        multiple: true,\n        mode: 'checkbox',\n        selectOnRowClick: false,\n        ...options.selection,\n      },\n      virtualScroll: {\n        enabled: false,\n        rowHeight: 48,\n        overscan: 5,\n        ...options.virtualScroll,\n      },\n      rowId: options.rowId || 'id',\n      enableRowExpansion: options.enableRowExpansion || false,\n      preserveState: options.preserveState || false,\n      stateKey: options.stateKey || 'datatable-state',\n      customComparators: options.customComparators || {},\n      customFormatters: options.customFormatters || {},\n      onInit: options.onInit || (() => {}),\n      onDataChange: options.onDataChange || (() => {}),\n      onError: options.onError || (() => {}),\n    };\n  }\n\n  private createInitialState(): DataTableState<T> {\n    const columns = this.options.columns.map((col) => ({\n      visible: true,\n      sortable: true,\n      filterable: true,\n      ...col,\n    }));\n\n    return {\n      rows: [],\n      columns,\n      sortState: this.options.sorting.defaultSort || undefined,\n      filterState: {\n        filters: [],\n        globalSearch: '',\n      },\n      paginationState: {\n        pageIndex: 0,\n        pageSize: this.options.pagination.pageSize,\n        totalRows: 0,\n        totalPages: 0,\n      },\n      selectionState: {\n        selectedRowIds: new Set(),\n        isAllSelected: false,\n        isPartiallySelected: false,\n      },\n      loadState: {\n        loading: false,\n        error: null,\n      },\n      visibleRows: [],\n      filteredRows: [],\n      sortedRows: [],\n      paginatedRows: [],\n      visibleColumns: columns.filter((col) => col.visible !== false),\n    };\n  }\n\n  private initialize(): void {\n    if (this.initialized) return;\n\n    // Restore state if enabled\n    if (this.options.preserveState) {\n      this.restoreState();\n    }\n\n    // Load initial data\n    if (this.options.dataMode === 'client' && this.options.data.length > 0) {\n      this.setData(this.options.data);\n    } else if (this.options.dataMode === 'server') {\n      this.reload();\n    }\n\n    this.initialized = true;\n    this.emit('init');\n    this.options.onInit();\n  }\n\n  // ============================================================================\n  // Data Management\n  // ============================================================================\n\n  setData(data: T[]): void {\n    this.ensureNotDestroyed();\n\n    const rows: Row<T>[] = data.map((item) => ({\n      id: this.getRowId(item),\n      data: item,\n      selected: false,\n      expanded: false,\n      disabled: false,\n    }));\n\n    this.state.rows = rows;\n    this.state.paginationState.totalRows = rows.length;\n    this.recompute();\n\n    this.emit('data:change', rows);\n    this.emit('data:load', rows);\n    this.options.onDataChange(rows);\n  }\n\n  getData(): Row<T>[] {\n    return [...this.state.rows];\n  }\n\n  addRow(data: T): void {\n    this.ensureNotDestroyed();\n\n    const row: Row<T> = {\n      id: this.getRowId(data),\n      data,\n      selected: false,\n      expanded: false,\n      disabled: false,\n    };\n\n    this.state.rows.push(row);\n    this.state.paginationState.totalRows = this.state.rows.length;\n    this.recompute();\n\n    this.emit('data:change', this.state.rows);\n  }\n\n  updateRow(id: RowId, data: Partial<T>): void {\n    this.ensureNotDestroyed();\n\n    const row = this.state.rows.find((r) => r.id === id);\n    if (!row) {\n      console.warn(`DataTable: Row with id ${id} not found`);\n      return;\n    }\n\n    row.data = { ...row.data, ...data };\n    this.recompute();\n\n    this.emit('data:change', this.state.rows);\n  }\n\n  deleteRow(id: RowId): void {\n    this.ensureNotDestroyed();\n\n    const index = this.state.rows.findIndex((r) => r.id === id);\n    if (index === -1) {\n      console.warn(`DataTable: Row with id ${id} not found`);\n      return;\n    }\n\n    this.state.rows.splice(index, 1);\n    this.state.paginationState.totalRows = this.state.rows.length;\n    \n    // Remove from selection if selected\n    this.state.selectionState.selectedRowIds.delete(id);\n    \n    this.recompute();\n    this.emit('data:change', this.state.rows);\n  }\n\n  clearData(): void {\n    this.ensureNotDestroyed();\n\n    this.state.rows = [];\n    this.state.paginationState.totalRows = 0;\n    this.state.selectionState.selectedRowIds.clear();\n    this.recompute();\n\n    this.emit('data:change', []);\n  }\n\n  // ============================================================================\n  // Columns\n  // ============================================================================\n\n  getColumns(): Column<T>[] {\n    return [...this.state.columns];\n  }\n\n  setColumns(columns: Column<T>[]): void {\n    this.ensureNotDestroyed();\n\n    this.state.columns = columns.map((col) => ({\n      visible: true,\n      sortable: true,\n      filterable: true,\n      ...col,\n    }));\n\n    this.state.visibleColumns = this.state.columns.filter((col) => col.visible !== false);\n    this.emit('state:change', this.state);\n  }\n\n  showColumn(columnId: string): void {\n    this.toggleColumnVisibility(columnId, true);\n  }\n\n  hideColumn(columnId: string): void {\n    this.toggleColumnVisibility(columnId, false);\n  }\n\n  toggleColumn(columnId: string): void {\n    const column = this.state.columns.find((col) => col.id === columnId);\n    if (column) {\n      this.toggleColumnVisibility(columnId, !column.visible);\n    }\n  }\n\n  private toggleColumnVisibility(columnId: string, visible: boolean): void {\n    this.ensureNotDestroyed();\n\n    const column = this.state.columns.find((col) => col.id === columnId);\n    if (!column) {\n      console.warn(`DataTable: Column ${columnId} not found`);\n      return;\n    }\n\n    column.visible = visible;\n    this.state.visibleColumns = this.state.columns.filter((col) => col.visible !== false);\n\n    this.emit('column:visibility', { columnId, visible });\n    this.emit('state:change', this.state);\n  }\n\n  // ============================================================================\n  // Sorting\n  // ============================================================================\n\n  sort(columnId: string, direction?: SortDirection): void {\n    this.ensureNotDestroyed();\n\n    if (!this.options.sorting.enabled) {\n      console.warn('DataTable: Sorting is disabled');\n      return;\n    }\n\n    const column = this.state.columns.find((col) => col.id === columnId);\n    if (!column || column.sortable === false) {\n      console.warn(`DataTable: Column ${columnId} is not sortable`);\n      return;\n    }\n\n    // Cycle through: asc -> desc -> null\n    let newDirection: SortDirection = direction ?? 'asc';\n    if (!direction) {\n      const currentSort = this.state.sortState as SortState | null;\n      if (currentSort?.columnId === columnId) {\n        if (currentSort.direction === 'asc') {\n          newDirection = 'desc';\n        } else if (currentSort.direction === 'desc') {\n          newDirection = null;\n        }\n      }\n    }\n\n    this.state.sortState = newDirection ? { columnId, direction: newDirection } : undefined;\n    \n    if (this.options.dataMode === 'client') {\n      this.recompute();\n    } else {\n      this.reload();\n    }\n\n    this.emit('sort:change', this.state.sortState);\n    this.emit('state:change', this.state);\n  }\n\n  multiSort(sorts: SortState[]): void {\n    this.ensureNotDestroyed();\n\n    if (!this.options.sorting.enabled || !this.options.sorting.multiSort) {\n      console.warn('DataTable: Multi-sort is not enabled');\n      return;\n    }\n\n    this.state.sortState = { sorts };\n    \n    if (this.options.dataMode === 'client') {\n      this.recompute();\n    } else {\n      this.reload();\n    }\n\n    this.emit('sort:change', this.state.sortState);\n    this.emit('state:change', this.state);\n  }\n\n  clearSort(): void {\n    this.state.sortState = undefined;\n    \n    if (this.options.dataMode === 'client') {\n      this.recompute();\n    } else {\n      this.reload();\n    }\n\n    this.emit('sort:change', this.state.sortState);\n    this.emit('state:change', this.state);\n  }\n\n  getSortState(): SortState | MultiSortState | undefined {\n    return this.state.sortState;\n  }\n\n  // ============================================================================\n  // Filtering\n  // ============================================================================\n\n  filter(filters: Filter[]): void {\n    this.ensureNotDestroyed();\n\n    if (!this.options.filtering.enabled) {\n      console.warn('DataTable: Filtering is disabled');\n      return;\n    }\n\n    this.state.filterState.filters = filters;\n    \n    if (this.options.dataMode === 'client') {\n      this.recompute();\n    } else {\n      this.reload();\n    }\n\n    this.emit('filter:change', this.state.filterState);\n    this.emit('state:change', this.state);\n  }\n\n  addFilter(filter: Filter): void {\n    this.ensureNotDestroyed();\n\n    // Remove existing filter for the same column\n    this.state.filterState.filters = this.state.filterState.filters.filter(\n      (f) => f.columnId !== filter.columnId\n    );\n\n    this.state.filterState.filters.push(filter);\n    \n    if (this.options.dataMode === 'client') {\n      this.recompute();\n    } else {\n      this.reload();\n    }\n\n    this.emit('filter:change', this.state.filterState);\n    this.emit('state:change', this.state);\n  }\n\n  removeFilter(columnId: string): void {\n    this.ensureNotDestroyed();\n\n    this.state.filterState.filters = this.state.filterState.filters.filter(\n      (f) => f.columnId !== columnId\n    );\n    \n    if (this.options.dataMode === 'client') {\n      this.recompute();\n    } else {\n      this.reload();\n    }\n\n    this.emit('filter:change', this.state.filterState);\n    this.emit('state:change', this.state);\n  }\n\n  clearFilters(): void {\n    this.state.filterState.filters = [];\n    this.state.filterState.globalSearch = '';\n    \n    if (this.options.dataMode === 'client') {\n      this.recompute();\n    } else {\n      this.reload();\n    }\n\n    this.emit('filter:change', this.state.filterState);\n    this.emit('state:change', this.state);\n  }\n\n  search(query: string): void {\n    this.ensureNotDestroyed();\n\n    if (!this.options.filtering.enabled || !this.options.filtering.globalSearch) {\n      console.warn('DataTable: Global search is not enabled');\n      return;\n    }\n\n    this.state.filterState.globalSearch = query;\n    \n    if (this.options.dataMode === 'client') {\n      this.recompute();\n    } else {\n      this.reload();\n    }\n\n    this.emit('search:change', query);\n    this.emit('filter:change', this.state.filterState);\n    this.emit('state:change', this.state);\n  }\n\n  getFilterState(): FilterState {\n    return { ...this.state.filterState };\n  }\n\n  // ============================================================================\n  // Pagination\n  // ============================================================================\n\n  goToPage(page: number): void {\n    this.ensureNotDestroyed();\n\n    if (!this.options.pagination.enabled) {\n      console.warn('DataTable: Pagination is disabled');\n      return;\n    }\n\n    const totalPages = this.state.paginationState.totalPages;\n    const newPage = Math.max(0, Math.min(page, totalPages - 1));\n\n    if (newPage === this.state.paginationState.pageIndex) return;\n\n    this.state.paginationState.pageIndex = newPage;\n    \n    if (this.options.dataMode === 'client') {\n      this.recompute();\n    } else {\n      this.reload();\n    }\n\n    this.emit('page:change', this.state.paginationState);\n    this.emit('state:change', this.state);\n  }\n\n  nextPage(): void {\n    this.goToPage(this.state.paginationState.pageIndex + 1);\n  }\n\n  previousPage(): void {\n    this.goToPage(this.state.paginationState.pageIndex - 1);\n  }\n\n  firstPage(): void {\n    this.goToPage(0);\n  }\n\n  lastPage(): void {\n    this.goToPage(this.state.paginationState.totalPages - 1);\n  }\n\n  setPageSize(size: number): void {\n    this.ensureNotDestroyed();\n\n    if (!this.options.pagination.enabled) {\n      console.warn('DataTable: Pagination is disabled');\n      return;\n    }\n\n    this.state.paginationState.pageSize = size;\n    this.state.paginationState.pageIndex = 0; // Reset to first page\n    \n    if (this.options.dataMode === 'client') {\n      this.recompute();\n    } else {\n      this.reload();\n    }\n\n    this.emit('page:change', this.state.paginationState);\n    this.emit('state:change', this.state);\n  }\n\n  getPaginationState(): PaginationState {\n    return { ...this.state.paginationState };\n  }\n\n  // ============================================================================\n  // Selection\n  // ============================================================================\n\n  selectRow(id: RowId): void {\n    this.ensureNotDestroyed();\n\n    if (!this.options.selection.enabled) {\n      console.warn('DataTable: Selection is disabled');\n      return;\n    }\n\n    if (!this.options.selection.multiple) {\n      this.state.selectionState.selectedRowIds.clear();\n    }\n\n    const row = this.state.rows.find((r) => r.id === id);\n    if (!row || row.disabled) return;\n\n    row.selected = true;\n    this.state.selectionState.selectedRowIds.add(id);\n    this.updateSelectionState();\n\n    this.emit('row:select', { row, selected: true });\n    this.emit('selection:change', this.state.selectionState);\n    this.emit('state:change', this.state);\n  }\n\n  deselectRow(id: RowId): void {\n    this.ensureNotDestroyed();\n\n    const row = this.state.rows.find((r) => r.id === id);\n    if (!row) return;\n\n    row.selected = false;\n    this.state.selectionState.selectedRowIds.delete(id);\n    this.updateSelectionState();\n\n    this.emit('row:select', { row, selected: false });\n    this.emit('selection:change', this.state.selectionState);\n    this.emit('state:change', this.state);\n  }\n\n  toggleRowSelection(id: RowId): void {\n    if (this.state.selectionState.selectedRowIds.has(id)) {\n      this.deselectRow(id);\n    } else {\n      this.selectRow(id);\n    }\n  }\n\n  selectAll(): void {\n    this.ensureNotDestroyed();\n\n    if (!this.options.selection.enabled || !this.options.selection.multiple) {\n      console.warn('DataTable: Multi-selection is not enabled');\n      return;\n    }\n\n    this.state.visibleRows.forEach((row) => {\n      if (!row.disabled) {\n        row.selected = true;\n        this.state.selectionState.selectedRowIds.add(row.id);\n      }\n    });\n\n    this.updateSelectionState();\n    this.emit('selection:change', this.state.selectionState);\n    this.emit('state:change', this.state);\n  }\n\n  deselectAll(): void {\n    this.ensureNotDestroyed();\n\n    this.state.rows.forEach((row) => {\n      row.selected = false;\n    });\n\n    this.state.selectionState.selectedRowIds.clear();\n    this.updateSelectionState();\n\n    this.emit('selection:change', this.state.selectionState);\n    this.emit('state:change', this.state);\n  }\n\n  getSelectedRows(): Row<T>[] {\n    return this.state.rows.filter((row) =>\n      this.state.selectionState.selectedRowIds.has(row.id)\n    );\n  }\n\n  getSelectionState(): SelectionState {\n    return {\n      selectedRowIds: new Set(this.state.selectionState.selectedRowIds),\n      isAllSelected: this.state.selectionState.isAllSelected,\n      isPartiallySelected: this.state.selectionState.isPartiallySelected,\n    };\n  }\n\n  private updateSelectionState(): void {\n    const selectableRows = this.state.visibleRows.filter((row) => !row.disabled);\n    const selectedCount = this.state.selectionState.selectedRowIds.size;\n\n    this.state.selectionState.isAllSelected =\n      selectableRows.length > 0 && selectedCount === selectableRows.length;\n    this.state.selectionState.isPartiallySelected =\n      selectedCount > 0 && selectedCount < selectableRows.length;\n  }\n\n  // ============================================================================\n  // State Management\n  // ============================================================================\n\n  getState(): DataTableState<T> {\n    return { ...this.state };\n  }\n\n  setState(newState: Partial<DataTableState<T>>): void {\n    this.ensureNotDestroyed();\n    this.state = { ...this.state, ...newState };\n    this.emit('state:change', this.state);\n  }\n\n  resetState(): void {\n    this.state = this.createInitialState();\n    this.clearFilters();\n    this.clearSort();\n    this.deselectAll();\n    this.firstPage();\n    this.emit('state:change', this.state);\n  }\n\n  private saveState(): void {\n    if (!this.options.preserveState) return;\n    this.stateManager.save(this.options.stateKey, this.state);\n  }\n\n  private restoreState(): void {\n    const savedState = this.stateManager.load<DataTableState<T>>(this.options.stateKey);\n    if (savedState) {\n      this.state = { ...this.state, ...savedState };\n    }\n  }\n\n  // ============================================================================\n  // Server-side Operations\n  // ============================================================================\n\n  async reload(): Promise<void> {\n    if (this.options.dataMode !== 'server') {\n      console.warn('DataTable: Server-side mode is not enabled');\n      return;\n    }\n\n    if (!this.options.serverSide.url) {\n      console.error('DataTable: Server URL is not configured');\n      return;\n    }\n\n    this.state.loadState.loading = true;\n    this.state.loadState.error = null;\n    this.emit('state:change', this.state);\n\n    try {\n      const params = this.buildServerParams();\n      const url = new URL(this.options.serverSide.url);\n      \n      if (this.options.serverSide.method === 'GET') {\n        Object.entries(params).forEach(([key, value]) => {\n          url.searchParams.append(key, String(value));\n        });\n      }\n\n      const response = await fetch(url.toString(), {\n        method: this.options.serverSide.method,\n        headers: {\n          'Content-Type': 'application/json',\n          ...this.options.serverSide.headers,\n        },\n        body: this.options.serverSide.method === 'POST' ? JSON.stringify(params) : undefined,\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n\n      const json = await response.json();\n      const { data, total } = this.options.serverSide.transformer!(json);\n\n      this.setData(data as T[]);\n      this.state.paginationState.totalRows = total;\n      this.state.paginationState.totalPages = Math.ceil(total / this.state.paginationState.pageSize);\n\n      this.state.loadState.lastFetch = new Date();\n      this.emit('data:load', this.state.rows);\n    } catch (error) {\n      this.state.loadState.error = error as Error;\n      this.emit('data:error', error as Error);\n      this.options.onError(error as Error);\n    } finally {\n      this.state.loadState.loading = false;\n      this.emit('state:change', this.state);\n    }\n  }\n\n  private buildServerParams(): Record<string, any> {\n    const params: Record<string, any> = {\n      ...this.options.serverSide.params,\n    };\n\n    // Pagination\n    if (this.options.pagination.enabled) {\n      params.page = this.state.paginationState.pageIndex;\n      params.pageSize = this.state.paginationState.pageSize;\n    }\n\n    // Sorting\n    if (this.state.sortState) {\n      if ('sorts' in this.state.sortState) {\n        params.sort = this.state.sortState.sorts;\n      } else {\n        params.sortBy = this.state.sortState.columnId;\n        params.sortDir = this.state.sortState.direction;\n      }\n    }\n\n    // Filtering\n    if (this.state.filterState.filters.length > 0) {\n      params.filters = this.state.filterState.filters;\n    }\n\n    // Global search\n    if (this.state.filterState.globalSearch) {\n      params.search = this.state.filterState.globalSearch;\n    }\n\n    return params;\n  }\n\n  // ============================================================================\n  // Computation Pipeline\n  // ============================================================================\n\n  private recompute(): void {\n    // 1. Start with all rows\n    let rows = [...this.state.rows];\n\n    // 2. Apply filters\n    if (this.options.filtering.enabled) {\n      rows = this.filterEngine.filter(rows, this.state.filterState, this.state.columns);\n    }\n    this.state.filteredRows = rows;\n\n    // 3. Apply sorting\n    if (this.options.sorting.enabled && this.state.sortState) {\n      rows = this.sortEngine.sort(rows, this.state.sortState, this.state.columns);\n    }\n    this.state.sortedRows = rows;\n\n    // 4. Update pagination metadata\n    this.state.paginationState.totalRows = rows.length;\n    this.state.paginationState.totalPages = Math.ceil(\n      rows.length / this.state.paginationState.pageSize\n    );\n\n    // 5. Apply pagination\n    if (this.options.pagination.enabled) {\n      const start = this.state.paginationState.pageIndex * this.state.paginationState.pageSize;\n      const end = start + this.state.paginationState.pageSize;\n      rows = rows.slice(start, end);\n    }\n    this.state.paginatedRows = rows;\n\n    // 6. Final visible rows\n    this.state.visibleRows = rows;\n\n    // Update selection state\n    this.updateSelectionState();\n\n    // Save state if enabled\n    if (this.options.preserveState) {\n      this.saveState();\n    }\n\n    this.emit('state:change', this.state);\n  }\n\n  // ============================================================================\n  // Event System\n  // ============================================================================\n\n  on<K extends keyof DataTableEvents<T>>(\n    event: K,\n    callback: EventCallback<Parameters<DataTableEvents<T>[K]>[0]>\n  ): () => void {\n    return this.eventEmitter.on(event, callback);\n  }\n\n  off<K extends keyof DataTableEvents<T>>(\n    event: K,\n    callback: EventCallback<Parameters<DataTableEvents<T>[K]>[0]>\n  ): void {\n    this.eventEmitter.off(event, callback);\n  }\n\n  emit<K extends keyof DataTableEvents<T>>(\n    event: K,\n    data?: any\n  ): void {\n    this.eventEmitter.emit(event as string, data);\n  }\n\n  // ============================================================================\n  // Plugin System\n  // ============================================================================\n\n  use(plugin: Plugin<T>): void {\n    if (this.plugins.has(plugin.name)) {\n      console.warn(`DataTable: Plugin ${plugin.name} is already installed`);\n      return;\n    }\n\n    plugin.install(this);\n    this.plugins.set(plugin.name, plugin);\n  }\n\n  // ============================================================================\n  // Utilities\n  // ============================================================================\n\n  private getRowId(row: T): RowId {\n    if (typeof this.options.rowId === 'function') {\n      return this.options.rowId(row);\n    }\n    return row[this.options.rowId as keyof T] as RowId;\n  }\n\n  private ensureNotDestroyed(): void {\n    if (this.destroyed) {\n      throw new Error('DataTable: Instance has been destroyed');\n    }\n  }\n\n  // ============================================================================\n  // Lifecycle\n  // ============================================================================\n\n  destroy(): void {\n    if (this.destroyed) return;\n\n    this.emit('destroy');\n    this.eventEmitter.clear();\n    this.plugins.forEach((plugin) => {\n      if (plugin.uninstall) {\n        plugin.uninstall(this);\n      }\n    });\n    this.plugins.clear();\n\n    this.destroyed = true;\n  }\n}\n\n// Factory function for easier usage\nexport function createDataTable<T extends RowData = RowData>(\n  options: DataTableOptions<T>\n): DataTable<T> {\n  return new DataTable(options);\n}\n", "/**\n * Export Plugin\n * Provides data export functionality in multiple formats\n */\n\nimport type { Plugin, DataTableCore, RowData, ExportOptions } from '../types';\n\nexport class ExportPlugin<T extends RowData = RowData> implements Plugin<T> {\n  name = 'export';\n  version = '1.0.0';\n\n  private table: DataTableCore<T> | null = null;\n\n  install(table: DataTableCore<T>): void {\n    this.table = table;\n  }\n\n  /**\n   * Export table data\n   */\n  export(options: ExportOptions): void {\n    if (!this.table) {\n      console.error('ExportPlugin: Table instance not available');\n      return;\n    }\n\n    const state = this.table.getState();\n    let rows = state.rows;\n\n    // Filter rows based on options\n    if (options.selectedOnly) {\n      rows = this.table.getSelectedRows();\n    } else if (options.visibleOnly) {\n      rows = state.visibleRows;\n    }\n\n    // Filter columns\n    const columns = options.columns\n      ? state.columns.filter((col) => options.columns!.includes(col.id))\n      : state.visibleColumns;\n\n    // Generate export based on format\n    let content: string;\n    let mimeType: string;\n    let extension: string;\n\n    switch (options.format) {\n      case 'csv':\n        content = this.toCSV(rows, columns, options.includeHeaders ?? true);\n        mimeType = 'text/csv';\n        extension = 'csv';\n        break;\n\n      case 'json':\n        content = this.toJSON(rows, columns);\n        mimeType = 'application/json';\n        extension = 'json';\n        break;\n\n      case 'txt':\n        content = this.toTXT(rows, columns, options.includeHeaders ?? true);\n        mimeType = 'text/plain';\n        extension = 'txt';\n        break;\n\n      case 'xlsx':\n        console.warn('ExportPlugin: XLSX export requires additional library');\n        return;\n\n      default:\n        console.error(`ExportPlugin: Unsupported format ${options.format}`);\n        return;\n    }\n\n    // Download file\n    this.download(\n      content,\n      options.filename || `export-${Date.now()}`,\n      mimeType,\n      extension\n    );\n  }\n\n  /**\n   * Convert to CSV format\n   */\n  private toCSV(rows: any[], columns: any[], includeHeaders: boolean): string {\n    const lines: string[] = [];\n\n    // Add headers\n    if (includeHeaders) {\n      const headers = columns.map((col) => this.escapeCSV(col.label || col.id));\n      lines.push(headers.join(','));\n    }\n\n    // Add data rows\n    rows.forEach((row) => {\n      const values = columns.map((col) => {\n        const value = this.getCellValue(row, col);\n        return this.escapeCSV(value);\n      });\n      lines.push(values.join(','));\n    });\n\n    return lines.join('\\n');\n  }\n\n  /**\n   * Convert to JSON format\n   */\n  private toJSON(rows: any[], columns: any[]): string {\n    const data = rows.map((row) => {\n      const obj: Record<string, any> = {};\n      columns.forEach((col) => {\n        obj[col.label || col.id] = this.getCellValue(row, col);\n      });\n      return obj;\n    });\n\n    return JSON.stringify(data, null, 2);\n  }\n\n  /**\n   * Convert to plain text format\n   */\n  private toTXT(rows: any[], columns: any[], includeHeaders: boolean): string {\n    const lines: string[] = [];\n\n    // Calculate column widths\n    const widths = columns.map((col) => {\n      const headerWidth = (col.label || col.id).length;\n      const maxDataWidth = rows.length > 0 \n        ? Math.max(...rows.map((row) => String(this.getCellValue(row, col)).length), 0)\n        : 0;\n      return Math.max(headerWidth, maxDataWidth);\n    });\n\n    // Add headers\n    if (includeHeaders) {\n      const headers = columns\n        .map((col, i) => (col.label || col.id).padEnd(widths[i] || 0))\n        .join(' | ');\n      lines.push(headers);\n      lines.push(widths.map((w) => '-'.repeat(w || 0)).join('-+-'));\n    }\n\n    // Add data rows\n    rows.forEach((row) => {\n      const values = columns\n        .map((col, i) => String(this.getCellValue(row, col)).padEnd(widths[i] || 0))\n        .join(' | ');\n      lines.push(values);\n    });\n\n    return lines.join('\\n');\n  }\n\n  /**\n   * Get cell value\n   */\n  private getCellValue(row: any, column: any): any {\n    if (column.accessor) {\n      return column.accessor(row.data);\n    }\n    if (column.formatter) {\n      return column.formatter(row.data[column.field], row.data);\n    }\n    return row.data[column.field];\n  }\n\n  /**\n   * Escape CSV value\n   */\n  private escapeCSV(value: any): string {\n    if (value === null || value === undefined) {\n      return '';\n    }\n\n    const str = String(value);\n\n    // Escape if contains comma, quote, or newline\n    if (str.includes(',') || str.includes('\"') || str.includes('\\n')) {\n      return `\"${str.replace(/\"/g, '\"\"')}\"`;\n    }\n\n    return str;\n  }\n\n  /**\n   * Download content as file\n   */\n  private download(\n    content: string,\n    filename: string,\n    mimeType: string,\n    extension: string\n  ): void {\n    const blob = new Blob([content], { type: mimeType });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n\n    link.href = url;\n    link.download = `${filename}.${extension}`;\n    link.click();\n\n    // Cleanup\n    setTimeout(() => URL.revokeObjectURL(url), 100);\n  }\n}\n\n// Factory function\nexport function createExportPlugin<T extends RowData = RowData>(): ExportPlugin<T> {\n  return new ExportPlugin<T>();\n}\n", "/**\n * Virtual Scroll Plugin\n * Provides virtual scrolling for large datasets\n */\n\nimport type { Plugin, DataTableCore, RowData, Row } from '../types';\n\nexport interface VirtualScrollOptions {\n  rowHeight: number;\n  containerHeight: number;\n  overscan?: number;\n  onScroll?: (scrollTop: number) => void;\n}\n\nexport interface VirtualScrollState<T = RowData> {\n  scrollTop: number;\n  visibleStartIndex: number;\n  visibleEndIndex: number;\n  virtualRows: Row<T>[];\n  totalHeight: number;\n  offsetY: number;\n}\n\nexport class VirtualScrollPlugin<T extends RowData = RowData> implements Plugin<T> {\n  name = 'virtualScroll';\n  version = '1.0.0';\n\n  private table: DataTableCore<T> | null = null;\n  private options: VirtualScrollOptions;\n  private state: VirtualScrollState<T>;\n  private scrollContainer: HTMLElement | null = null;\n  private rafId: number | null = null;\n\n  constructor(options: VirtualScrollOptions) {\n    this.options = {\n      overscan: 5,\n      ...options,\n    };\n\n    this.state = {\n      scrollTop: 0,\n      visibleStartIndex: 0,\n      visibleEndIndex: 0,\n      virtualRows: [],\n      totalHeight: 0,\n      offsetY: 0,\n    };\n  }\n\n  install(table: DataTableCore<T>): void {\n    this.table = table;\n\n    // Listen to data changes\n    table.on('data:change', this.handleDataChange.bind(this));\n    table.on('state:change', this.handleStateChange.bind(this));\n  }\n\n  uninstall(_table: DataTableCore<T>): void {\n    this.cleanup();\n  }\n\n  /**\n   * Attach to scroll container\n   */\n  attachToContainer(container: HTMLElement): void {\n    this.scrollContainer = container;\n    this.scrollContainer.addEventListener('scroll', this.handleScroll.bind(this));\n    this.calculateVisibleRows();\n  }\n\n  /**\n   * Detach from scroll container\n   */\n  detachFromContainer(): void {\n    if (this.scrollContainer) {\n      this.scrollContainer.removeEventListener('scroll', this.handleScroll.bind(this));\n      this.scrollContainer = null;\n    }\n  }\n\n  /**\n   * Get virtual scroll state\n   */\n  getState(): VirtualScrollState<T> {\n    return { ...this.state };\n  }\n\n  /**\n   * Handle scroll event\n   */\n  private handleScroll(_event: Event): void {\n    if (!this.scrollContainer) return;\n\n    // Cancel previous RAF\n    if (this.rafId) {\n      cancelAnimationFrame(this.rafId);\n    }\n\n    // Schedule calculation on next frame\n    this.rafId = requestAnimationFrame(() => {\n      this.state.scrollTop = this.scrollContainer!.scrollTop;\n      this.calculateVisibleRows();\n\n      if (this.options.onScroll) {\n        this.options.onScroll(this.state.scrollTop);\n      }\n    });\n  }\n\n  /**\n   * Calculate visible rows based on scroll position\n   */\n  private calculateVisibleRows(): void {\n    if (!this.table) return;\n\n    const tableState = this.table.getState();\n    \n    // Determine which rows to use for virtual scrolling\n    // If pagination is enabled, use current page; otherwise use all filtered rows\n    let rows: Row<T>[];\n    \n    if (tableState.paginationState?.enabled && tableState.paginatedRows.length > 0) {\n      // Use paginated rows when pagination is enabled\n      rows = tableState.paginatedRows;\n    } else {\n      // Use all filtered rows when pagination is disabled\n      rows = tableState.filteredRows.length > 0\n        ? tableState.filteredRows\n        : tableState.rows;\n    }\n\n    const totalRows = rows.length;\n    const { rowHeight, containerHeight, overscan = 5 } = this.options;\n\n    // Calculate total height based on available rows\n    this.state.totalHeight = totalRows * rowHeight;\n\n    // Handle edge case: zero container height means no visible rows\n    if (containerHeight <= 0) {\n      this.state.visibleStartIndex = 0;\n      this.state.visibleEndIndex = 0;\n      this.state.offsetY = 0;\n      this.state.virtualRows = [];\n      return;\n    }\n\n    // Calculate visible range\n    const scrollTop = this.state.scrollTop;\n    const visibleStart = Math.floor(scrollTop / rowHeight);\n    const visibleEnd = Math.ceil((scrollTop + containerHeight) / rowHeight);\n\n    // Add overscan\n    const start = Math.max(0, visibleStart - overscan);\n    const end = Math.min(totalRows, visibleEnd + overscan);\n\n    this.state.visibleStartIndex = start;\n    this.state.visibleEndIndex = end;\n    this.state.offsetY = start * rowHeight;\n\n    // Get virtual rows\n    this.state.virtualRows = rows.slice(start, end);\n  }\n\n  /**\n   * Handle data change\n   */\n  private handleDataChange(_rows: Row<T>[]): void {\n    this.calculateVisibleRows();\n  }\n\n  /**\n   * Handle state change\n   */\n  private handleStateChange(): void {\n    this.calculateVisibleRows();\n  }\n\n  /**\n   * Scroll to row\n   */\n  scrollToRow(index: number): void {\n    if (!this.scrollContainer) return;\n\n    const scrollTop = index * this.options.rowHeight;\n    this.scrollContainer.scrollTop = scrollTop;\n  }\n\n  /**\n   * Scroll to top\n   */\n  scrollToTop(): void {\n    this.scrollToRow(0);\n  }\n\n  /**\n   * Scroll to bottom\n   */\n  scrollToBottom(): void {\n    if (!this.table) return;\n\n    const tableState = this.table.getState();\n    \n    // Use same logic as calculateVisibleRows\n    let rows: Row<T>[];\n    \n    if (tableState.paginationState?.enabled && tableState.paginatedRows.length > 0) {\n      rows = tableState.paginatedRows;\n    } else {\n      rows = tableState.filteredRows.length > 0\n        ? tableState.filteredRows\n        : tableState.rows;\n    }\n\n    this.scrollToRow(rows.length - 1);\n  }\n\n  /**\n   * Cleanup\n   */\n  private cleanup(): void {\n    this.detachFromContainer();\n\n    if (this.rafId) {\n      cancelAnimationFrame(this.rafId);\n      this.rafId = null;\n    }\n  }\n}\n\n// Factory function\nexport function createVirtualScrollPlugin<T extends RowData = RowData>(\n  options: VirtualScrollOptions\n): VirtualScrollPlugin<T> {\n  return new VirtualScrollPlugin<T>(options);\n}\n\n/**\n * Helper: Calculate row height from element\n */\nexport function measureRowHeight(element: HTMLElement): number {\n  const computed = window.getComputedStyle(element);\n  \n  const marginTop = parseFloat(computed.marginTop) || 0;\n  const marginBottom = parseFloat(computed.marginBottom) || 0;\n  \n  return element.offsetHeight + marginTop + marginBottom;\n}\n\n/**\n * Helper: Get optimal overscan based on viewport\n */\nexport function calculateOptimalOverscan(\n  rowHeight: number,\n  containerHeight: number\n): number {\n  // Handle edge cases\n  if (rowHeight <= 0 || containerHeight <= 0) {\n    return 3; // Minimum overscan\n  }\n  \n  const visibleRows = Math.ceil(containerHeight / rowHeight);\n  return Math.max(3, Math.floor(visibleRows * 0.5));\n}\n"],
  "mappings": "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",
  "names": ["date"]
}
