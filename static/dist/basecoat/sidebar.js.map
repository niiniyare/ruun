{
  "version": 3,
  "sources": ["../../js/basecoat/sidebar.js"],
  "sourcesContent": ["(() => {\n  // Monkey patching the history API to detect client-side navigation\n  if (!window.history.__basecoatPatched) {\n    const originalPushState = window.history.pushState;\n    window.history.pushState = function(...args) {\n      originalPushState.apply(this, args);\n      window.dispatchEvent(new Event('basecoat:locationchange'));\n    };\n    \n    const originalReplaceState = window.history.replaceState;\n    window.history.replaceState = function(...args) {\n      originalReplaceState.apply(this, args);\n      window.dispatchEvent(new Event('basecoat:locationchange'));\n    };\n\n    window.history.__basecoatPatched = true;\n  }\n\n  const initSidebar = (sidebarComponent) => {\n    const initialOpen = sidebarComponent.dataset.initialOpen !== 'false';\n    const initialMobileOpen = sidebarComponent.dataset.initialMobileOpen === 'true';\n    const breakpoint = parseInt(sidebarComponent.dataset.breakpoint) || 768;\n    \n    let open = breakpoint > 0 \n      ? (window.innerWidth >= breakpoint ? initialOpen : initialMobileOpen)\n      : initialOpen;\n    \n    const updateCurrentPageLinks = () => {\n      const currentPath = window.location.pathname.replace(/\\/$/, '');\n      sidebarComponent.querySelectorAll('a').forEach(link => {\n        if (link.hasAttribute('data-ignore-current')) return;\n        \n        const linkPath = new URL(link.href).pathname.replace(/\\/$/, '');\n        if (linkPath === currentPath) {\n          link.setAttribute('aria-current', 'page');\n        } else {\n          link.removeAttribute('aria-current');\n        }\n      });\n    };\n    \n    const updateState = () => {\n      sidebarComponent.setAttribute('aria-hidden', !open);\n      if (open) {\n        sidebarComponent.removeAttribute('inert');\n      } else {\n        sidebarComponent.setAttribute('inert', '');\n      }\n    };\n\n    const setState = (state) => {\n      open = state;\n      updateState();\n    };\n\n    const sidebarId = sidebarComponent.id;\n\n    document.addEventListener('basecoat:sidebar', (event) => {\n      if (event.detail?.id && event.detail.id !== sidebarId) return;\n\n      switch (event.detail?.action) {\n        case 'open':\n          setState(true);\n          break;\n        case 'close':\n          setState(false);\n          break;\n        default:\n          setState(!open);\n          break;\n      }\n    });\n    \n    sidebarComponent.addEventListener('click', (event) => {\n      const target = event.target;\n      const nav = sidebarComponent.querySelector('nav');\n      \n      const isMobile = window.innerWidth < breakpoint;\n      \n      if (isMobile && (target.closest('a, button') && !target.closest('[data-keep-mobile-sidebar-open]'))) {\n        if (document.activeElement) document.activeElement.blur();\n        setState(false);\n        return;\n      }\n      \n      if (target === sidebarComponent || (nav && !nav.contains(target))) {\n        if (document.activeElement) document.activeElement.blur();\n        setState(false);\n      }\n    });\n\n    window.addEventListener('popstate', updateCurrentPageLinks);\n    window.addEventListener('basecoat:locationchange', updateCurrentPageLinks);\n\n    updateState();\n    updateCurrentPageLinks();\n    sidebarComponent.dataset.sidebarInitialized = true;\n    sidebarComponent.dispatchEvent(new CustomEvent('basecoat:initialized'));\n  };\n\n  if (window.basecoat) {\n    window.basecoat.register('sidebar', '.sidebar:not([data-sidebar-initialized])', initSidebar);\n  }\n})();"],
  "mappings": ";;AAAA,GAAC,MAAM;AAEL,QAAI,CAAC,OAAO,QAAQ,mBAAmB;AACrC,YAAM,oBAAoB,OAAO,QAAQ;AACzC,aAAO,QAAQ,YAAY,YAAY,MAAM;AAC3C,0BAAkB,MAAM,MAAM,IAAI;AAClC,eAAO,cAAc,IAAI,MAAM,yBAAyB,CAAC;AAAA,MAC3D;AAEA,YAAM,uBAAuB,OAAO,QAAQ;AAC5C,aAAO,QAAQ,eAAe,YAAY,MAAM;AAC9C,6BAAqB,MAAM,MAAM,IAAI;AACrC,eAAO,cAAc,IAAI,MAAM,yBAAyB,CAAC;AAAA,MAC3D;AAEA,aAAO,QAAQ,oBAAoB;AAAA,IACrC;AAEA,UAAM,cAAc,CAAC,qBAAqB;AACxC,YAAM,cAAc,iBAAiB,QAAQ,gBAAgB;AAC7D,YAAM,oBAAoB,iBAAiB,QAAQ,sBAAsB;AACzE,YAAM,aAAa,SAAS,iBAAiB,QAAQ,UAAU,KAAK;AAEpE,UAAI,OAAO,aAAa,IACnB,OAAO,cAAc,aAAa,cAAc,oBACjD;AAEJ,YAAM,yBAAyB,MAAM;AACnC,cAAM,cAAc,OAAO,SAAS,SAAS,QAAQ,OAAO,EAAE;AAC9D,yBAAiB,iBAAiB,GAAG,EAAE,QAAQ,UAAQ;AACrD,cAAI,KAAK,aAAa,qBAAqB;AAAG;AAE9C,gBAAM,WAAW,IAAI,IAAI,KAAK,IAAI,EAAE,SAAS,QAAQ,OAAO,EAAE;AAC9D,cAAI,aAAa,aAAa;AAC5B,iBAAK,aAAa,gBAAgB,MAAM;AAAA,UAC1C,OAAO;AACL,iBAAK,gBAAgB,cAAc;AAAA,UACrC;AAAA,QACF,CAAC;AAAA,MACH;AAEA,YAAM,cAAc,MAAM;AACxB,yBAAiB,aAAa,eAAe,CAAC,IAAI;AAClD,YAAI,MAAM;AACR,2BAAiB,gBAAgB,OAAO;AAAA,QAC1C,OAAO;AACL,2BAAiB,aAAa,SAAS,EAAE;AAAA,QAC3C;AAAA,MACF;AAEA,YAAM,WAAW,CAAC,UAAU;AAC1B,eAAO;AACP,oBAAY;AAAA,MACd;AAEA,YAAM,YAAY,iBAAiB;AAEnC,eAAS,iBAAiB,oBAAoB,CAAC,UAAU;AACvD,YAAI,MAAM,QAAQ,MAAM,MAAM,OAAO,OAAO;AAAW;AAEvD,gBAAQ,MAAM,QAAQ,QAAQ;AAAA,UAC5B,KAAK;AACH,qBAAS,IAAI;AACb;AAAA,UACF,KAAK;AACH,qBAAS,KAAK;AACd;AAAA,UACF;AACE,qBAAS,CAAC,IAAI;AACd;AAAA,QACJ;AAAA,MACF,CAAC;AAED,uBAAiB,iBAAiB,SAAS,CAAC,UAAU;AACpD,cAAM,SAAS,MAAM;AACrB,cAAM,MAAM,iBAAiB,cAAc,KAAK;AAEhD,cAAM,WAAW,OAAO,aAAa;AAErC,YAAI,aAAa,OAAO,QAAQ,WAAW,KAAK,CAAC,OAAO,QAAQ,iCAAiC,IAAI;AACnG,cAAI,SAAS;AAAe,qBAAS,cAAc,KAAK;AACxD,mBAAS,KAAK;AACd;AAAA,QACF;AAEA,YAAI,WAAW,oBAAqB,OAAO,CAAC,IAAI,SAAS,MAAM,GAAI;AACjE,cAAI,SAAS;AAAe,qBAAS,cAAc,KAAK;AACxD,mBAAS,KAAK;AAAA,QAChB;AAAA,MACF,CAAC;AAED,aAAO,iBAAiB,YAAY,sBAAsB;AAC1D,aAAO,iBAAiB,2BAA2B,sBAAsB;AAEzE,kBAAY;AACZ,6BAAuB;AACvB,uBAAiB,QAAQ,qBAAqB;AAC9C,uBAAiB,cAAc,IAAI,YAAY,sBAAsB,CAAC;AAAA,IACxE;AAEA,QAAI,OAAO,UAAU;AACnB,aAAO,SAAS,SAAS,WAAW,4CAA4C,WAAW;AAAA,IAC7F;AAAA,EACF,GAAG;",
  "names": []
}
