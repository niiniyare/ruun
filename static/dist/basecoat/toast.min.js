"use strict";(()=>{(()=>{let n;const a=new WeakMap;let s=!1;const g={success:'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>',error:'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>',info:'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>',warning:'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"/><path d="M12 9v4"/><path d="M12 17h.01"/></svg>'};function w(t){t.dataset.toasterInitialized||(n=t,n.addEventListener("mouseenter",v),n.addEventListener("mouseleave",p),n.addEventListener("click",e=>{const o=e.target.closest(".toast footer a"),i=e.target.closest(".toast footer button");(o||i)&&c(e.target.closest(".toast"))}),n.querySelectorAll(".toast:not([data-toast-initialized])").forEach(l),n.dataset.toasterInitialized="true",n.dispatchEvent(new CustomEvent("basecoat:initialized")))}function l(t){if(t.dataset.toastInitialized)return;const e=parseInt(t.dataset.duration),o=e!==-1?e||(t.dataset.category==="error"?5e3:3e3):-1,i={remainingTime:o,timeoutId:null,startTime:null};o!==-1&&(s?i.timeoutId=null:(i.startTime=Date.now(),i.timeoutId=setTimeout(()=>c(t),o))),a.set(t,i),t.dataset.toastInitialized="true"}function v(){s||(s=!0,n.querySelectorAll('.toast:not([aria-hidden="true"])').forEach(t=>{if(!a.has(t))return;const e=a.get(t);e.timeoutId&&(clearTimeout(e.timeoutId),e.timeoutId=null,e.remainingTime-=Date.now()-e.startTime)}))}function p(){s&&(s=!1,n.querySelectorAll('.toast:not([aria-hidden="true"])').forEach(t=>{if(!a.has(t))return;const e=a.get(t);e.remainingTime!==-1&&!e.timeoutId&&(e.remainingTime>0?(e.startTime=Date.now(),e.timeoutId=setTimeout(()=>c(t),e.remainingTime)):c(t))}))}function c(t){if(!a.has(t))return;const e=a.get(t);clearTimeout(e.timeoutId),a.delete(t),t.contains(document.activeElement)&&document.activeElement.blur(),t.setAttribute("aria-hidden","true"),t.addEventListener("transitionend",()=>t.remove(),{once:!0})}function y(t,e){const o=t.dataset.toastAction;if(o)try{new Function("close",o)(()=>c(e))}catch(i){console.error("Error executing toast action:",i)}}function k(t){const{category:e="info",title:o,description:i,action:r,cancel:d,duration:u,icon:b}=t,T=b||e&&g[e]||"",$=o?`<h2>${o}</h2>`:"",x=i?`<p>${i}</p>`:"",h=r?.href?`<a href="${r.href}" class="btn" data-toast-action>${r.label}</a>`:r?.onclick?`<button type="button" class="btn" data-toast-action onclick="${r.onclick}">${r.label}</button>`:"",f=d?`<button type="button" class="btn-outline h-6 text-xs px-2.5 rounded-sm" data-toast-cancel onclick="${d?.onclick}">${d.label}</button>`:"",I=h||f?`<footer>${h}${f}</footer>`:"",E=`
      <div
        class="toast"
        role="${e==="error"?"alert":"status"}"
        aria-atomic="true"
        ${e?`data-category="${e}"`:""}
        ${u!==void 0?`data-duration="${u}"`:""}
      >
        <div class="toast-content">
          ${T}
          <section>
            ${$}
            ${x}
          </section>
          ${I}
          </div>
        </div>
      </div>
    `,m=document.createElement("template");return m.innerHTML=E.trim(),m.content.firstChild}document.addEventListener("basecoat:toast",t=>{if(!n){console.error("Cannot create toast: toaster container not found on page.");return}const e=t.detail?.config||{},o=k(e);n.appendChild(o)}),window.basecoat&&(window.basecoat.register("toaster","#toaster:not([data-toaster-initialized])",w),window.basecoat.register("toast",".toast:not([data-toast-initialized])",l))})();})();
