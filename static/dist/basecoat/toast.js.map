{
  "version": 3,
  "sources": ["../../js/basecoat/toast.js"],
  "sourcesContent": ["(() => {\n  let toaster;\n  const toasts = new WeakMap();\n  let isPaused = false;\n  const ICONS = {\n    success: '<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"m9 12 2 2 4-4\"/></svg>',\n    error: '<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"m15 9-6 6\"/><path d=\"m9 9 6 6\"/></svg>',\n    info: '<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M12 16v-4\"/><path d=\"M12 8h.01\"/></svg>',\n    warning: '<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\"/><path d=\"M12 9v4\"/><path d=\"M12 17h.01\"/></svg>'\n  };\n\n  function initToaster(toasterElement) {\n    if (toasterElement.dataset.toasterInitialized) return;\n    toaster = toasterElement;\n\n    toaster.addEventListener('mouseenter', pauseAllTimeouts);\n    toaster.addEventListener('mouseleave', resumeAllTimeouts);\n    toaster.addEventListener('click', (event) => {\n      const actionLink = event.target.closest('.toast footer a');\n      const actionButton = event.target.closest('.toast footer button');\n      if (actionLink || actionButton) {\n        closeToast(event.target.closest('.toast'));\n      }\n    });\n\n    toaster.querySelectorAll('.toast:not([data-toast-initialized])').forEach(initToast);\n    toaster.dataset.toasterInitialized = 'true';\n    toaster.dispatchEvent(new CustomEvent('basecoat:initialized'));\n  }\n\n  function initToast(element) {\n    if (element.dataset.toastInitialized) return;\n\n    const duration = parseInt(element.dataset.duration);\n    const timeoutDuration = duration !== -1\n      ? duration || (element.dataset.category === 'error' ? 5000 : 3000)\n      : -1;\n    \n    const state = {\n      remainingTime: timeoutDuration,\n      timeoutId: null,\n      startTime: null,\n    };\n    \n    if (timeoutDuration !== -1) {\n      if (isPaused) {\n        state.timeoutId = null;\n      } else {\n        state.startTime = Date.now();\n        state.timeoutId = setTimeout(() => closeToast(element), timeoutDuration);\n      }\n    }\n    toasts.set(element, state);\n    \n    element.dataset.toastInitialized = 'true';\n  }\n\n  function pauseAllTimeouts() {\n    if (isPaused) return;\n\n    isPaused = true;\n    \n    toaster.querySelectorAll('.toast:not([aria-hidden=\"true\"])').forEach(element => {\n      if (!toasts.has(element)) return;\n      \n      const state = toasts.get(element);\n      if (state.timeoutId) {\n        clearTimeout(state.timeoutId);\n        state.timeoutId = null;\n        state.remainingTime -= Date.now() - state.startTime;\n      }\n    });\n  }\n\n  function resumeAllTimeouts() {\n    if (!isPaused) return;\n\n    isPaused = false;\n\n    toaster.querySelectorAll('.toast:not([aria-hidden=\"true\"])').forEach(element => {\n      if (!toasts.has(element)) return;\n\n      const state = toasts.get(element);\n      if (state.remainingTime !== -1 && !state.timeoutId) {\n        if (state.remainingTime > 0) {\n          state.startTime = Date.now();\n          state.timeoutId = setTimeout(() => closeToast(element), state.remainingTime);\n        } else {\n          closeToast(element);\n        }\n      }\n    });\n  }\n\n  function closeToast(element) {\n    if (!toasts.has(element)) return;\n\n    const state = toasts.get(element);\n    clearTimeout(state.timeoutId);\n    toasts.delete(element);\n    \n    if (element.contains(document.activeElement)) document.activeElement.blur();\n    element.setAttribute('aria-hidden', 'true');\n    element.addEventListener('transitionend', () => element.remove(), { once: true });\n  }\n\n  function executeAction(button, toast) {\n    const actionString = button.dataset.toastAction;\n    if (!actionString) return;\n    try {\n      const func = new Function('close', actionString);\n      func(() => closeToast(toast));\n    } catch (event) {\n      console.error('Error executing toast action:', event);\n    }\n  }\n\n  function createToast(config) {\n    const {\n      category = 'info',\n      title,\n      description,\n      action,\n      cancel,\n      duration,\n      icon,\n    } = config;\n\n    const iconHtml = icon || (category && ICONS[category]) || '';\n    const titleHtml = title ? `<h2>${title}</h2>` : '';\n    const descriptionHtml = description ? `<p>${description}</p>` : '';\n    const actionHtml = action?.href\n      ? `<a href=\"${action.href}\" class=\"btn\" data-toast-action>${action.label}</a>`\n      : action?.onclick\n        ? `<button type=\"button\" class=\"btn\" data-toast-action onclick=\"${action.onclick}\">${action.label}</button>`\n        : '';\n    const cancelHtml = cancel\n      ? `<button type=\"button\" class=\"btn-outline h-6 text-xs px-2.5 rounded-sm\" data-toast-cancel onclick=\"${cancel?.onclick}\">${cancel.label}</button>`\n      : '';\n\n    const footerHtml = actionHtml || cancelHtml ? `<footer>${actionHtml}${cancelHtml}</footer>` : '';\n\n    const html = `\n      <div\n        class=\"toast\"\n        role=\"${category === 'error' ? 'alert' : 'status'}\"\n        aria-atomic=\"true\"\n        ${category ? `data-category=\"${category}\"` : ''}\n        ${duration !== undefined ? `data-duration=\"${duration}\"` : ''}\n      >\n        <div class=\"toast-content\">\n          ${iconHtml}\n          <section>\n            ${titleHtml}\n            ${descriptionHtml}\n          </section>\n          ${footerHtml}\n          </div>\n        </div>\n      </div>\n    `;\n    const template = document.createElement('template');\n    template.innerHTML = html.trim();\n    return template.content.firstChild;\n  }\n\n  document.addEventListener('basecoat:toast', (event) => {\n    if (!toaster) {\n      console.error('Cannot create toast: toaster container not found on page.');\n      return;\n    }\n    const config = event.detail?.config || {};\n    const toastElement = createToast(config);\n    toaster.appendChild(toastElement);\n  });\n\n  if (window.basecoat) {\n    window.basecoat.register('toaster', '#toaster:not([data-toaster-initialized])', initToaster);\n    window.basecoat.register('toast', '.toast:not([data-toast-initialized])', initToast);\n  }\n})();"],
  "mappings": "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",
  "names": []
}
