"use strict";(()=>{(()=>{const n={};let i=null;const l=(e,o,t)=>{n[e]={selector:o,init:t}},E=(e,o)=>{const t=n[o];if(t)try{t.init(e)}catch(r){console.error(`Failed to initialize ${o}:`,r)}},c=()=>{Object.entries(n).forEach(([e,{selector:o,init:t}])=>{document.querySelectorAll(o).forEach(t)})},a=e=>{e.nodeType===Node.ELEMENT_NODE&&Object.entries(n).forEach(([o,{selector:t,init:r}])=>{e.matches(t)&&r(e),e.querySelectorAll(t).forEach(r)})},s=()=>{i||(i=new MutationObserver(e=>{e.forEach(o=>{o.addedNodes.forEach(a)})}),i.observe(document.body,{childList:!0,subtree:!0}))},u=()=>{i&&(i.disconnect(),i=null)},d=e=>{const o=n[e];if(!o){console.warn(`Component '${e}' not found in registry`);return}const t=`data-${e}-initialized`;document.querySelectorAll(`[${t}]`).forEach(r=>{r.removeAttribute(t)}),document.querySelectorAll(o.selector).forEach(o.init)},f=()=>{Object.entries(n).forEach(([e,{selector:o}])=>{const t=`data-${e}-initialized`;document.querySelectorAll(`[${t}]`).forEach(r=>{r.removeAttribute(t)})}),c()};window.basecoat={register:l,init:d,initAll:f,start:s,stop:u},document.addEventListener("DOMContentLoaded",()=>{c(),s()})})();})();
