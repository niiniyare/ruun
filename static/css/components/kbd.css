/* ============================================================================
   Kbd Component
   ============================================================================
   Keyboard shortcut display component for showing keyboard combinations
   and shortcuts in a visually distinct way.
   
   Based on the Basecoat implementation with additional variants and utilities.
   
   Usage Examples:
   - Single key: <kbd class="kbd">K</kbd>
   - Symbol keys: <kbd class="kbd">⌘</kbd> <kbd class="kbd">⇧</kbd>
   - Combinations: <kbd class="kbd">Ctrl + B</kbd>
   - Key groups: <span class="inline-flex items-center gap-1">
                   <kbd class="kbd">⌘</kbd><kbd class="kbd">K</kbd>
                 </span>
   - In buttons: <button>Save <kbd class="kbd">⌘S</kbd></button>
   ============================================================================ */

/* Base (matching Basecoat implementation)
   ============================================================================ */

.kbd {
  /* Core display and layout from Basecoat */
  background-color: var(--muted);
  color: var(--muted-foreground);
  pointer-events: none;
  display: inline-flex;
  height: 1.25rem; /* h-5 */
  width: fit-content;
  min-width: 1.25rem; /* min-w-5 */
  align-items: center;
  justify-content: center;
  gap: 0.25rem; /* gap-1 */
  border-radius: calc(var(--radius) - 4px); /* rounded-sm */
  padding-left: 0.25rem; /* px-1 */
  padding-right: 0.25rem;
  font-family: var(--font-sans);
  font-size: 0.75rem; /* text-xs */
  font-weight: 500; /* font-medium */
  user-select: none;
  
  /* Additional refinements */
  white-space: nowrap;
  vertical-align: baseline;
}

/* Key Groups and Combinations
   ============================================================================ */

/* Use with standard Tailwind flex utilities for key groups:
   <span class="inline-flex items-center gap-1">
     <kbd class="kbd">⌘</kbd>
     <kbd class="kbd">K</kbd>
   </span>
   
   Or with separators:
   <span class="inline-flex items-center gap-1">
     <kbd class="kbd">Ctrl</kbd>
     <span>+</span>
     <kbd class="kbd">B</kbd>
   </span>
*/

/* Optional group container (legacy support) */
.kbd-group {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
}

/* Size Variants
   ============================================================================ */

/* Small variant */
.kbd-sm {
  height: 1rem; /* h-4 */
  min-width: 1rem;
  font-size: 0.625rem; /* text-xs */
  padding-left: 0.125rem; /* px-0.5 */
  padding-right: 0.125rem;
}

/* Large variant */
.kbd-lg {
  height: 1.5rem; /* h-6 */
  min-width: 1.5rem;
  font-size: 0.875rem; /* text-sm */
  padding-left: 0.375rem; /* px-1.5 */
  padding-right: 0.375rem;
}

/* Style Variants
   ============================================================================ */

/* Outline style (with border) */
.kbd-outline {
  border: 1px solid var(--border);
  background-color: var(--background);
}

/* Solid style (inverted colors) */
.kbd-solid {
  background-color: var(--foreground);
  color: var(--background);
}

/* Accent style */
.kbd-accent {
  background-color: var(--accent);
  color: var(--accent-foreground);
}

/* States
   ============================================================================ */

/* Disabled state */
.kbd-disabled {
  opacity: 0.5;
}

/* Highlighted/active state */
.kbd-active {
  background-color: var(--primary);
  color: var(--primary-foreground);
}

/* Context Modifiers
   ============================================================================ */

/* In buttons - make kbd smaller and adjust spacing */
button .kbd,
.btn .kbd {
  height: 1rem; /* h-4 */
  min-width: 1rem;
  font-size: 0.625rem; /* text-xs */
  margin-left: 0.25rem;
}

/* In prose/text - add subtle margins */
p .kbd,
.prose .kbd {
  margin-left: 0.125rem;
  margin-right: 0.125rem;
}

/* Responsive
   ============================================================================ */

@media (max-width: 640px) {
  .kbd {
    height: 1rem; /* h-4 */
    min-width: 1rem;
    font-size: 0.625rem; /* text-2xs */
    padding-left: 0.125rem; /* px-0.5 */
    padding-right: 0.125rem;
  }
}

/* SVG Icons Support
   ============================================================================ */

/* Support for small icons within kbd elements (inherited from Basecoat) */
.kbd svg:not([class*='size-']) {
  width: 0.75rem; /* size-3 */
  height: 0.75rem;
}

/* Common Key Symbols (Optional Utilities)
   ============================================================================ */

/* Use these data attributes for common symbols to ensure consistency:
   
   <kbd class="kbd" data-key="cmd"></kbd>     → ⌘
   <kbd class="kbd" data-key="shift"></kbd>   → ⇧
   <kbd class="kbd" data-key="option"></kbd>  → ⌥
   <kbd class="kbd" data-key="ctrl"></kbd>    → ⌃
   <kbd class="kbd" data-key="enter"></kbd>   → ⏎
   <kbd class="kbd" data-key="esc"></kbd>     → Esc
   
   Or use the symbols directly: <kbd class="kbd">⌘</kbd>
*/

.kbd[data-key="cmd"]::before { content: "⌘"; }
.kbd[data-key="shift"]::before { content: "⇧"; }
.kbd[data-key="option"]::before,
.kbd[data-key="alt"]::before { content: "⌥"; }
.kbd[data-key="ctrl"]::before { content: "⌃"; }
.kbd[data-key="enter"]::before { content: "⏎"; }
.kbd[data-key="esc"]::before { content: "Esc"; }
.kbd[data-key="tab"]::before { content: "⇥"; }
.kbd[data-key="space"]::before { content: "␣"; }
.kbd[data-key="delete"]::before { content: "⌫"; }

/* Arrow keys */
.kbd[data-key="up"]::before { content: "↑"; }
.kbd[data-key="down"]::before { content: "↓"; }
.kbd[data-key="left"]::before { content: "←"; }
.kbd[data-key="right"]::before { content: "→"; }